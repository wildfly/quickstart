<!DOCTYPE html>
<html>
<head>
   <title>JBoss HTML5/Mobile Application</title>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

   <script type="text/javascript" src="resources/js/jquery-1.6.4.js"></script>

   <!-- Recommended for production, and performance testing 
   <script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
    -->

   <!-- Pull in application specific css and JS -->
   <link type="text/css" rel="stylesheet" href="resources/css/screen.css"/>
   <script type="text/javascript" src="resources/js/app.js"></script>

   <script type="text/javascript">
      $(document).ready(function() {
         //Fetches the initial member table
         updateMemberTable();

         //Register a event listener on the sumbit action
         $('#reg').submit(function(event) {
            event.preventDefault();

            var formValues = $(this).serialize();

            registerMember(formValues);
         });
      });
   </script>
</head>
<body>
<div id="container">
   <!-- New HTML5 section tag -->
   <section>
      <h1>Welcome to JBoss!</h1>

      <p>You have successfully deployed a Java EE 6 HTML5/Mobile web application
         on JBoss.</p>

      <p>This is built using a technique called
         <strong>P</strong>lain <strong>O</strong>ld <strong>H</strong>TML<strong>5</strong> (<strong>POH5</strong>).
      </p>

      <ul id="features">
	      <li class="feature">Pure HTML client</li>
	      <li class="feature">JAX-RS GET & POST end points</li>
	      <li class="feature">HTML5 based page structure</li>
	      <li class="feature">HTML5 form element & validation</li>
	      <li class="feature">CSS3 selectors used for styling</li>
	      <li class="feature">JAX-RS validation handling</li>
	      <li class="feature">jQuery Mobile integration</li>
	      <li class="feature">jQuery used to assist</li>
	      <li class="feature">QUnit test suite to validate JavaScript</li>
      </ul>

      <!-- New HTML5 article tag -->
      <article id="register_art">
         <h2>Member Registration</h2>

         <p>Enforces client side validation with HTML5 based constraints that match the annotation-based constraints
            defined on the model class.  Also uses new HTML5 attributes such as placeholder, and autofocus.
         </p>
         
         <!-- For now mapping bean validation constraints from server side model is a manual task -->
         <form name="reg" id="reg">
            <fieldset>
               <legend>Register a user:</legend>
               <div>
                  <label for="name">Name:</label>
                  <input type="text" name="name" id="name" placeholder="Your Name" required autofocus/>
               </div>
               <div>
                  <label for="email">Email:</label>
                  <input type="email" name="email" id="email" placeholder="Your Email" required/>
               </div>
               <div>
                  <label for="phoneNumber">Phone #:</label>
                  <input type="tel" name="phoneNumber" id="phoneNumber" pattern="[0-9]{10,12}"
                         placeholder="Your Phone #"
                         required/>
               </div>
               <input type="submit" name="register" id="register" value="Register"/>
            </fieldset>
         </form>
      </article>

      <!-- New HTML5 article tag -->
      <article id="member_art">
         <h2>Current Members</h2>

         <p>This table is populated and constructed using restful GET calls to the server, and uses CSS3 based
            selectors for styling.  When the page is requested jQuery is used to send the JAX-RS request 
            for the current list of members.  The table is them populated dynamically using JavaScript.
            See app.js for more details.
         </p>

         <table id="mem_tbl">
            <thead>
            <tr>
               <th scope="col">Id</th>
               <th scope="col">Name</th>
               <th scope="col">Email</th>
               <th scope="col">Phone #</th>
               <th scope="col">REST URLs</th>
            </tr>
            </thead>
            <tfoot>
            <tr>
               <td colspan="5">
                  <!-- Sets the JAX-RS URLs to retrieve all members either as XML 
                       or JSON data.
                  -->
                  REST URL for all members: 
                  <a href="rest/members" target="_blank">XML</a>,
                  <a href="rest/members/json" target="_blank">JSON</a>
               </td>
            </tr>
            </tfoot>
            <tbody id="members">
            </tbody>
         </table>
      </article>
   </section>

   <!-- New HTML5 aside tag -->
   <aside>
      <h3>Find out more</h3>

      <p>Learn more about JBoss.</p>
      <ul>
         <li><a href="https://docs.jboss.org/author/display/AS7/Getting+Started+Developing+Applications+Guide">JBoss
            AS 7 Getting Started Developing Applications Guide</a></li>
         <li><a href="http://jboss.org/jbossas">JBoss AS 7 project
            site</a></li>
      </ul>
      <p>Learn about the Java EE 6 platform and the component
         model it provides.</p>
      <ul>
         <li><a href="http://download.oracle.com/javaee/6/tutorial/doc">Java
            EE 6 tutorial</a></li>
         <li><a href="http://docs.jboss.org/cdi/spec/1.0/html">JSR-299:
            CDI specification</a></li>
         <li><a href="https://sites.google.com/site/cdipojo/get-started">CDI
            Source</a></li>
      </ul>
      <p>
         If you have an add-on, please <a href="http://jboss.org">let
         us know</a> and consider <a href="http://jboss.org">contributing</a>
         it back to the community!
      </p>
   </aside>

   <!-- New HTML5 footer tag -->
   <footer>
      <img src="resources/gfx/logo.png" alt="HTML5"/>

      <p>
         This project was generated from a Maven archetype from
         JBoss.<br/>
      </p>
   </footer>
</div>
</body>
</html>